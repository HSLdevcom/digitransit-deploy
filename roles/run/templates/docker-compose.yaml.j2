reverseproxy:
  image: {{reverse_proxy_docker_image}}
  links:
   - routeserver
   - otp
   - navigatorproto
   - hslnow
   - hslalert
   - siri2gtfsrt
   - navigatorserver
   - digitransitui
   - digitransituiregional
   - mapserver
   - pelias
   - raildigitraffic2gtfsrt
  expose:
   - "{{reverse_proxy_exposed_port}}"

routeserver:
  image: {{route_server_docker_image}}
  expose:
   - "{{route_server_exposed_port}}"

otp:
  image: {{otp_docker_image}}
  links:
   - routeserver
   - hslalert
   - siri2gtfsrt
   - raildigitraffic2gtfsrt
  expose:
   - "{{otp_exposed_port}}"

navigatorproto:
  image: {{navigator_proto_docker_image}}
  links:
   - otp
   - navigatorserver
  expose:
   - "{{navigator_proto_exposed_port}}"

hslnow:
  image: {{hsl_now_docker_image}}
  links:
   - otp
  expose:
   - "{{hsl_now_exposed_port}}"

hslalert:
  image: {{hsl_alert_docker_image}}
  expose:
   - "{{hsl_alert_exposed_port}}"

raildigitraffic2gtfsrt:
  image: {{raildigitraffic2gtfsrt_docker_image}}
  links:
   - routeserver
  expose:
   - "{{raildigitraffic2gtfsrt_exposed_port}}"

siri2gtfsrt:
  image: {{siri2gtfsrt_docker_image}}
  links:
   - navigatorserver
  expose:
   - "{{siri2gtfsrt_exposed_port}}"

navigatorserver:
  image: {{navigator_server_docker_image}}
  expose:
   - "{{navigator_server_exposed_port}}"

digitransitui:
  image: {{digitransit_ui_docker_image}}
  expose:
   - "{{digitransit_ui_exposed_port}}"

digitransituiregional:
  image: {{digitransit_ui_regional_docker_image}}
  expose:
   - "{{digitransit_ui_exposed_port}}"

mapserver:
  image: {{map_server_docker_image}}
  links:
   - otp
  expose:
   - "{{map_server_exposed_port}}"

pelias:
  image: {{pelias_docker_image}}
  expose:
   - "{{pelias_exposed_port}}"
